<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF íŒŒì¼ ì—…ë¡œë“œ ê°€ì´ë“œ</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .upload-zone {
            border: 3px dashed #007bff;
            border-radius: 10px;
            padding: 40px;
            text-align: center;
            background: #f8f9fa;
            margin: 20px 0;
        }
        .method-card {
            border: 1px solid #dee2e6;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
        }
        .code-block {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 15px;
            font-family: monospace;
            margin: 10px 0;
        }
    </style>
</head>
<body data-production-chatbot-url="https://8000-i8x91e6wa8wwvqb05llf7-6532622b.e2b.dev/">
    <div class="container mt-4">
        <h1 class="text-center text-primary">PDF íŒŒì¼ ì—…ë¡œë“œ ê°€ì´ë“œ</h1>
        <p class="text-center text-muted">C:\project\data í´ë”ì˜ íŒŒì¼ë“¤ì„ ì±—ë´‡ì— ì—…ë¡œë“œí•˜ëŠ” ë°©ë²•</p>

        <div class="row">
            <div class="col-lg-8 mx-auto">
                
                <!-- ë°©ë²• 1: í´ë¼ìš°ë“œ ì—…ë¡œë“œ -->
                <div class="method-card">
                    <h3 class="text-success">ğŸŒ ë°©ë²• 1: í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ ì´ìš© (ì¶”ì²œ)</h3>
                    <ol>
                        <li><strong>Google Drive, Dropbox, OneDrive ë“±ì— PDF íŒŒì¼ë“¤ ì—…ë¡œë“œ</strong></li>
                        <li><strong>ê° íŒŒì¼ì˜ ê³µê°œ ë§í¬ ìƒì„±</strong></li>
                        <li><strong>ì•„ë˜ ëª…ë ¹ì–´ë¡œ ë‹¤ìš´ë¡œë“œ:</strong></li>
                    </ol>
                    
                    <div class="code-block">
cd /home/user/webapp/data<br>
# ê¸°ì¡´ íŒŒì¼ ì‚­ì œ<br>
rm -f *.pdf<br><br>
# Google Drive ë§í¬ ì˜ˆì‹œ<br>
curl -o "filename1.pdf" "https://drive.google.com/uc?id=FILE_ID"<br>
curl -o "filename2.pdf" "https://drive.google.com/uc?id=FILE_ID"<br><br>
# ì„œë¹„ìŠ¤ ì¬ì‹œì‘<br>
cd /home/user/webapp<br>
supervisorctl -c supervisord.conf restart tourism-chatbot
                    </div>
                </div>

                <!-- ë°©ë²• 2: ì›¹ ì—…ë¡œë“œ -->
                <div class="method-card">
                    <h3 class="text-info">ğŸ“¤ ë°©ë²• 2: ì›¹ ê¸°ë°˜ íŒŒì¼ ì „ì†¡</h3>
                    <ol>
                        <li><strong>WeTransfer, SendAnywhere ë“± íŒŒì¼ ì „ì†¡ ì„œë¹„ìŠ¤ ì´ìš©</strong></li>
                        <li><strong>íŒŒì¼ë“¤ì„ ì—…ë¡œë“œí•˜ê³  ë‹¤ìš´ë¡œë“œ ë§í¬ ë°›ê¸°</strong></li>
                        <li><strong>ë§í¬ë¡œ ì„œë²„ì—ì„œ ë‹¤ìš´ë¡œë“œ</strong></li>
                    </ol>
                    
                    <div class="code-block">
# WeTransfer ë“±ì—ì„œ ë°›ì€ ë§í¬ ì‚¬ìš©<br>
curl -o "travel_guide.pdf" "https://we.tl/download-link"
                    </div>
                </div>

                <!-- ë°©ë²• 3: Base64 ì¸ì½”ë”© -->
                <div class="method-card">
                    <h3 class="text-warning">ğŸ”’ ë°©ë²• 3: Base64 ì¸ì½”ë”© (ì‘ì€ íŒŒì¼ìš©)</h3>
                    <p><strong>Windowsì—ì„œ:</strong></p>
                    <div class="code-block">
# PowerShellì—ì„œ ì‹¤í–‰<br>
$bytes = [System.IO.File]::ReadAllBytes("C:\project\data\filename.pdf")<br>
$base64 = [System.Convert]::ToBase64String($bytes)<br>
$base64 | Out-File "filename.txt"
                    </div>
                    
                    <p><strong>ìƒì„±ëœ í…ìŠ¤íŠ¸ íŒŒì¼ì˜ ë‚´ìš©ì„ ë³µì‚¬í•´ì„œ ì•Œë ¤ì£¼ì‹œë©´ ì„œë²„ì—ì„œ ë””ì½”ë”©í•´ë“œë¦½ë‹ˆë‹¤.</strong></p>
                </div>

                <!-- ë°©ë²• 4: íŒŒì¼ ë‚´ìš© ì„¤ëª… -->
                <div class="method-card">
                    <h3 class="text-secondary">ğŸ“ ë°©ë²• 4: ë‚´ìš© ì„¤ëª… (ì„ì‹œ ëŒ€ì•ˆ)</h3>
                    <p><strong>PDF íŒŒì¼ë“¤ì˜ ë‚´ìš©ì„ í…ìŠ¤íŠ¸ë¡œ ì„¤ëª…í•´ì£¼ì‹œë©´:</strong></p>
                    <ul>
                        <li>ì£¼ìš” ë‚´ìš©ê³¼ í‚¤ì›Œë“œ ì •ë¦¬</li>
                        <li>íŒŒì¼ë³„ ì£¼ì œì™€ ëª©ì°¨</li>
                        <li>ì¤‘ìš”í•œ ì •ë³´ ìš”ì•½</li>
                    </ul>
                    <p>ì´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì„ì‹œ PDFë¥¼ ìƒì„±í•´ë“œë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                </div>

            </div>
        </div>

        <div class="alert alert-info mt-4">
            <h5>ğŸš€ ë¹ ë¥¸ í…ŒìŠ¤íŠ¸ë¥¼ ì›í•˜ì‹ ë‹¤ë©´:</h5>
            <p>íŒŒì¼ ë‚´ìš©ì˜ ì£¼ìš” ì •ë³´ë§Œ í…ìŠ¤íŠ¸ë¡œ ì•Œë ¤ì£¼ì‹œë©´, ì¦‰ì‹œ ì±—ë´‡ìš© PDFë¥¼ ìƒì„±í•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤!</p>
        </div>

        <div class="alert alert-success mt-4 text-break" role="alert">
            <h5 class="mb-2">âœ… ìµœì¢… ë°°í¬ ì±—ë´‡ ì£¼ì†Œ</h5>
            <p class="mb-1">ì•„ë˜ ë²„íŠ¼ì´ ì—´ë¦¬ì§€ ì•Šì„ ê²½ìš° ë‹¤ìŒ ë§í¬ë¥¼ ì§ì ‘ í´ë¦­í•´ì£¼ì„¸ìš”.</p>
            <p class="mb-0 fw-bold">
                <a href="https://8000-i8x91e6wa8wwvqb05llf7-6532622b.e2b.dev/" id="productionChatbotLink" target="_blank" rel="noopener" class="link-success text-decoration-none">
                    https://8000-i8x91e6wa8wwvqb05llf7-6532622b.e2b.dev/
                </a>
            </p>
            <p class="small text-muted mt-2 mb-0">ìœ„ ë²„íŠ¼ë„ ë™ì¼í•œ ì£¼ì†Œë¡œ ì´ë™í•˜ë„ë¡ ì„¤ì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤.</p>
        </div>

        <div class="text-center mt-4">
            <a id="chatbotLink" href="http://localhost:5000" class="btn btn-primary btn-lg" target="_blank" rel="noopener">
                ğŸ¤– ì±—ë´‡ í…ŒìŠ¤íŠ¸í•˜ëŸ¬ ê°€ê¸°
            </a>
            <p id="chatbotLinkInfo" class="text-muted mt-2 small"></p>
        </div>
    </div>
    <script>
        (function() {
            const linkElement = document.getElementById('chatbotLink');
            const infoElement = document.getElementById('chatbotLinkInfo');
            const productionLinkElement = document.getElementById('productionChatbotLink');

            if (!linkElement) {
                return;
            }

            try {
                const bodyDataset = document.body ? document.body.dataset : undefined;
                const productionTargetRaw = bodyDataset && bodyDataset.productionChatbotUrl ? bodyDataset.productionChatbotUrl.trim() : '';
                const hasProductionTarget = Boolean(productionTargetRaw);

                const { protocol, hostname, origin } = window.location;
                const isHttpContext = protocol === 'http:' || protocol === 'https:';

                const DEFAULT_TARGET_URL = 'http://localhost:5000';
                const DEFAULT_TARGET_PORT = '5000';

                const isLikelyLocalHost = (host) => {
                    if (!host) {
                        return false;
                    }
                    const normalizedHost = host.toLowerCase();
                    const localPatterns = [
                        /^localhost$/,
                        /^127(\.\d{1,3}){3}$/,
                        /^0\.0\.0\.0$/,
                        /^\[?::1\]?$/,
                        /^10(\.\d{1,3}){3}$/,
                        /^172\.(1[6-9]|2[0-9]|3[0-1])(\.\d{1,3}){2}$/,
                        /^192\.168(\.\d{1,3}){2}$/
                    ];
                    return localPatterns.some((pattern) => pattern.test(normalizedHost));
                };

                if (productionLinkElement && hasProductionTarget) {
                    productionLinkElement.href = productionTargetRaw;
                    productionLinkElement.textContent = productionTargetRaw;
                }

                let targetUrl = DEFAULT_TARGET_URL;
                let resolution = 'default';

                if (isHttpContext) {
                    if (hasProductionTarget && !isLikelyLocalHost(hostname)) {
                        targetUrl = productionTargetRaw;
                        resolution = 'production';
                    } else if (isLikelyLocalHost(hostname)) {
                        const preferredProtocol = protocol === 'https:' ? 'http:' : protocol || 'http:';
                        const safeHost = hostname || 'localhost';
                        targetUrl = `${preferredProtocol}//${safeHost}:${DEFAULT_TARGET_PORT}`;
                        resolution = 'local';
                    } else if (origin && origin !== 'null') {
                        targetUrl = origin;
                        resolution = 'origin';
                    }
                } else if (hasProductionTarget) {
                    targetUrl = productionTargetRaw;
                    resolution = 'production';
                }

                linkElement.href = targetUrl;

                if (infoElement) {
                    const messageByResolution = {
                        production: `ë°°í¬ ì±—ë´‡ ì£¼ì†Œ(${targetUrl})ë¡œ ì´ë™í•©ë‹ˆë‹¤.`,
                        local: `ë¡œì»¬ ê°œë°œ í™˜ê²½ì„ ê°ì§€í•´ ${targetUrl} ì£¼ì†Œë¡œ ì´ë™í•©ë‹ˆë‹¤.`,
                        origin: `í˜„ì¬ í˜ì´ì§€ì™€ ë™ì¼í•œ ì„œë²„(${targetUrl})ë¡œ ì´ë™í•©ë‹ˆë‹¤.`,
                        default: `ê¸°ë³¸ ì±—ë´‡ ì£¼ì†Œ(${targetUrl})ë¡œ ì´ë™í•©ë‹ˆë‹¤.`
                    };
                    infoElement.textContent = messageByResolution[resolution] || messageByResolution.default;
                }
            } catch (error) {
                console.error('ì±—ë´‡ ë§í¬ ì„¤ì • ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.', error);
                if (infoElement) {
                    infoElement.textContent = 'ì±—ë´‡ ë§í¬ë¥¼ ì„¤ì •í•˜ëŠ” ì¤‘ ë¬¸ì œê°€ ë°œìƒí•˜ì—¬ ê¸°ë³¸ ì£¼ì†Œë¡œ ì´ë™í•©ë‹ˆë‹¤.';
                }
            }
        })();
    </script>
</body>
</html>
